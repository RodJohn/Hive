

本质是MapReduce

# 

抓取策略

    理论上SQL会转换为MR
    但是通过抓取策略的设置 

一般不改
    
# 执行计划

explain[extends]

anti包 


# 运行方式
    
    本地 快
    集群 默认
    
    本地快  测试 开发  ，
        8088 看不到 ，读取的文件不能大于128M  200w条数据
        
# 并行计算

    子任务没有依赖关系
    最多8个
                

# 严格模式
提高查询效率

要求

    对于分区表必须使用分区
    orderby 必须 limit
    
    
# orderby

原理

    全排序
    一个
    
改进
    
    sort by + distruct by
    
    clusterby 
    
# JOIN

    semi join 替代 in any
    驱动表为小表  
    
    map join   
        mapreduce join 原理
        提前到map 减少过程
        将小表 加到内存 
    
        开启自动


大表join大表

    单个reduce压力大
    
    空key过滤
    空key转换
        reduce 均匀
    
# Map端聚合

    聚合比例
    
    倾斜优化
        相当于comba
   
# 小文件

    小文件和数据倾斜 是大问题    
    
    小文件
        不够128也是一个block
    
    合并参数
    
    
    去重统计
    
    
# 
map

    
   
reduce
 
    默认1 分桶时为通俗
    
    
    