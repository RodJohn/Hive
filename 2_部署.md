
# 选型



jdk1.7
hive2支持 hadoop2.x以上

# 3种方式

安装metadata的形式分为3中 




内部

此模式连接到一个In-memory 的数据库Derby，一般用于Unit Test。

外部数据库

通过网络连接到一个数据库中，是最经常使用到的模式


远程服务器

远程服务器模式
用于非Java客户端访问元数据库，在服务器端启动MetaStoreServer，客户端利用Thrift协议通过MetaStoreServer访问元数据库




# 步骤



安装一个关系型数据（mysql）：yum  install mysql-server 
 开启远程访问

安装Zookeeper

启动hadoop

# 安装Hive

下载
   http://www.apache.org/dyn/closer.cgi/hive/
   换个镜像
   1.2.1
    解压
     $ tar -xzvf hive-x.y.z.tar.gz
    Set the environment variable HIVE_HOME to point to the installation directory:

环境变量
    
      $ cd hive-x.y.z
      $ export HIVE_HOME={{pwd}}
    Finally, add $HIVE_HOME/bin to your PATH:
    
      $ export PATH=$HIVE_HOME/bin:$PATH


# 配置HIVE

#修改Hive的配置文件

$ cd /usr/local/apache-hive-1.2.1/conf
$ cp hive-default.xml.template hive-site.xml
$ vim hive-site.xml

删除里面内容，只留<configuration></configuration> 节点
将光标放在<configuration>的下一行在:模式下输入.,$-1d 按回车 例     ：.,$-1d  #从当前行删除到倒数第二行



<property>
<name>hive.metastore.warehouse.dir</name>
<value>/opt/hive/warehouse</value>
</property>
<property>
<name>hive.metastore.local</name>
<value>true</value>
</property>
 <!-- 如果是远程mysql数据库的话需要在这里写入远程的IP或hosts -->
<property>
<name>javax.jdo.option.ConnectionURL</name>
<value>jdbc:mysql://node5:3306/hive?createDatabaseIfNotExist=true</value>
</property>
<property>
<name>javax.jdo.option.ConnectionDriverName</name>
<value>com.mysql.jdbc.Driver</value>
</property>
<property>
<name>javax.jdo.option.ConnectionUserName</name>
<value>root</value>
</property>
<property>
<name>javax.jdo.option.ConnectionPassword</name>
<value>123456</value>
</property>

修改hive-site.xml

启动hive   
bin/hive





